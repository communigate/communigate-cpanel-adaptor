var OPEN_MODULE;var ACCOUNTS=[];var PATH_POPUPS=[];var FTP_PORT=21;var ADD_VALID=[];var CHANGE_PASS_VALID=[];var CHANGE_QUOTA_VALID=[];var FTP_API2_CALL={};var TABLE_REQUEST_ACTIVE=false;var LAST_SEARCH_TXT="";var init_add_validation=function(){var c=function(){var d=document.getElementById("login").value;return/^[a-zA-Z_\-0-9]+$/.test(d)};ADD_VALID.login=new CPANEL.validate.validator(LANG.ftp_login);ADD_VALID.login.add("login",c,LANG.FTPUserAlpha);ADD_VALID.login.add("login","max_length(%input%, 25)",LANG.FTPMsgUser25Char);ADD_VALID.login.attach();var a=CPANEL.password.setup("password","password2","password_strength",REQUIRED_PASSWORD_STRENGTH,"create_strong_password","why_strong_passwords_link","why_strong_passwords_text");ADD_VALID.pass1=a[0];ADD_VALID.pass2=a[1];ADD_VALID.dir=new CPANEL.validate.validator(LANG.directory_path);ADD_VALID.dir.add("homedir","dir_path",LANG.validation_directory_paths);ADD_VALID.dir.attach();if(SERVER_TYPE!="PRO"){ADD_VALID.quota_number=new CPANEL.validate.validator(LANG.quota);ADD_VALID.quota_number.add("quota_value","positive_integer",LANG.email_quota_number,"quota_number");ADD_VALID.quota_number.attach();ADD_VALID.quota_unlimited=new CPANEL.validate.validator(LANG.quota);ADD_VALID.quota_unlimited.add("quota_unlimited","anything","","quota_unlimited");ADD_VALID.quota_unlimited.attach()}CPANEL.validate.attach_to_form("ftp_create_submit",ADD_VALID,add_ftp_account);CPANEL.util.catch_enter(["login","password","password2","homedir","quota_value"],"ftp_create_submit");try{YAHOO.util.Dom.get("login").focus()}catch(b){}};var suggest_homedir=function(){YAHOO.util.Dom.get("homedir").value="public_html/"+YAHOO.util.Dom.get("login").value;ADD_VALID.dir.verify()};var toggle_add_account_quota=function(a){if(a==true){YAHOO.util.Dom.get("quota_number").checked=true}if(YAHOO.util.Dom.get("quota_number").checked==true){YAHOO.util.Dom.setStyle("quota_value","color","black");ADD_VALID.quota_number.verify();ADD_VALID.quota_unlimited.clear_messages()}else{YAHOO.util.Dom.setStyle("quota_value","color","#888888");ADD_VALID.quota_number.clear_messages();ADD_VALID.quota_unlimited.verify()}};var load_accounts_table=function(){var b={success:function(f){try{var c=YAHOO.lang.JSON.parse(f.responseText);if(c.cpanelresult.data){build_accounts_table(c.cpanelresult.data,c.cpanelresult.paginate)}else{YAHOO.util.Dom.get("accounts_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+LANG.unknown_error+"</div>"}}catch(d){YAHOO.util.Dom.get("accounts_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.json_parse_failed+"</div>"}TABLE_REQUEST_ACTIVE=false},failure:function(c){YAHOO.util.Dom.get("accounts_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>";TABLE_REQUEST_ACTIVE=false}};TABLE_REQUEST_ACTIVE=true;YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(FTP_API2_CALL),b,"");close_all_path_popups();var a=YAHOO.util.Region.getRegion(YAHOO.util.Dom.get("accounts_div"));if(a.height>0){YAHOO.util.Dom.get("accounts_div").innerHTML='<div style="height: '+a.height+'px"><div style="padding: 20px">'+CPANEL.icons.ajax+" "+CPANEL.lang.ajax_loading+"</div></div>"}else{YAHOO.util.Dom.get("accounts_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.ajax+" "+CPANEL.lang.ajax_loading+"</div>"}};var load_special_accounts_table=function(){var b={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"Ftp",cpanel_jsonapi_func:"listftpwithdisk",include_acct_types:"anonymous|logaccess|main",api2_sort:1,api2_sort_column:"serverlogin",api2_sort_method:"alphabet",api2_sort_reverse:0};var a={success:function(f){try{var c=YAHOO.lang.JSON.parse(f.responseText);if(c.cpanelresult.data){build_special_accounts_table(c.cpanelresult.data)}else{YAHOO.util.Dom.get("special_accounts_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+LANG.unknown_error+"</div>"}}catch(d){YAHOO.util.Dom.get("special_accounts_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.json_parse_failed+"</div>"}},failure:function(c){YAHOO.util.Dom.get("special_accounts_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.error+" "+CPANEL.lang.ajax_error+": "+CPANEL.lang.ajax_try_again+"</div>"}};YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(b),a,"");YAHOO.util.Dom.get("special_accounts_div").innerHTML='<div style="padding: 20px">'+CPANEL.icons.ajax+" "+CPANEL.lang.ajax_loading+"</div>"};var build_accounts_table=function(e,f){var c='<table id="accounts_table" class="dynamic_table" cellspacing="0" cellpadding="0">';var g="";var a="A";var d=e.length;if(d==0){c+='<tr><td style="text-align: center; width: 100%; padding: 20px;">';c+=LANG.no_accounts_found;c+="</td></tr></table>";YAHOO.util.Dom.get("accounts_div").innerHTML=c;return}for(var b=0;b<d;b++){if(e[b].diskquota==0||e[b].diskquota==LANG.unlimited){e[b].diskquota=0;e[b].humandiskquota="&infin;"}else{e[b].humandiskquota=e[b].diskquota}e[b].diskused=parseInt(e[b].diskused);if(SERVER_TYPE=="PURE"){g='<tr id="account_row_[% i %]" class="dt_info_row row[% zebra %]">';g+='<td class="col1" style="padding-left: 5px">[% serverlogin %]<input type="hidden" id="login_[% i %]" value="[% login %]" /></td>';g+='<td class="col2" style="text-align: left">[% path %]</td>';g+='<td class="col3">[% diskused %] / <span id="humandiskquota_[% i %]">[% humandiskquota %]</span> <span class="megabyte_font">MB</span><input type="hidden" id="diskused_[% i %]" value="[% diskused %]" /><input type="hidden" id="diskquota_[% i %]" value="[% diskquota %]" /><br /><div style="height: 3px"></div><div id="usage_bar_[% i %]" class="table_progress_bar"></div></td>';g+='<td class="col4">';g+='<table cellspacing="0" cellpadding="0" width="100%"><tr>';g+='<td width="25%"><span class="action_link" onclick="toggle_module(\'changepassword_module_[% i %]\')">'+LANG.change_br_password+"</span></td>";g+='<td width="25%"><span class="action_link" onclick="toggle_module(\'changequota_module_[% i %]\')">'+LANG.change_br_quota+"</span></td>";g+='<td width="25%"><span class="action_link" onclick="toggle_module(\'delete_module_[% i %]\')">'+LANG.Delete+"</span></td>";g+='<td width="25%"><span class="action_link" onclick="toggle_module(\'config_module_[% i %]\')">'+LANG.configure_ftp_client+"</span></td>";g+="</tr></table>";g+="</td>";g+="</tr>";g+='<tr><td colspan="4">';g+=build_changepassword_module();g+=build_changequota_module();g+=build_delete_module();g+=build_config_module();g+='<div id="status_bar_[% i %]" class="cjt_status_bar"></div>';g+="</td></tr>"}else{g='<tr id="account_row_[% i %]" class="dt_info_row row[% zebra %]">';g+='<td class="pro_col1" style="text-align: center">[% serverlogin %]<input type="hidden" id="login_[% i %]" value="[% login %]" /></td>';g+='<td class="pro_col2" style="text-align: center">[% path %]</td>';g+='<td class="pro_col3">';g+='<table cellspacing="0" cellpadding="0" width="100%"><tr>';g+='<td width="33%"><span class="action_link" onclick="toggle_module(\'changepassword_module_[% i %]\')">'+LANG.change_br_password+"</span></td>";g+='<td width="33%"><span class="action_link" onclick="toggle_module(\'delete_module_[% i %]\')">'+LANG.Delete+"</span></td>";g+='<td width="33%"><span class="action_link" onclick="toggle_module(\'config_module_[% i %]\')">'+LANG.configure_ftp_client+"</span></td>";g+="</tr></table>";g+="</td>";g+="</tr>";g+='<tr><td colspan="3">';g+=build_changepassword_module();g+=build_delete_module();g+=build_config_module();g+='<div id="status_bar_[% i %]" class="cjt_status_bar"></div>';g+="</td></tr>"}g=g.replace(/\[% i %\]/g,b);g=g.replace(/\[% zebra %\]/g,a);g=g.replace(/\[% login %\]/g,e[b].login);g=g.replace(/\[% serverlogin %\]/g,e[b].serverlogin);g=g.replace(/\[% path %\]/g,format_path(e[b].dir));g=g.replace(/\[% special_path %\]/g,format_path(e[b].dir,"delete_account2_"+b,b));g=g.replace(/\[% diskused %\]/g,e[b].diskused);g=g.replace(/\[% humandiskquota %\]/g,e[b].humandiskquota);g=g.replace(/\[% diskquota %\]/g,e[b].diskquota);g=g.replace(/\[% url.acct %\]/g,encodeURIComponent(e[b].login));g=g.replace(/\[% url.accttype %\]/g,encodeURIComponent(e[b].accttype));g=g.replace(/\[% ftp_port %\]/g,FTP_PORT);g=g.replace(/\[% sftp_port %\]/g,SFTP_PORT);g=g.replace(/\[% ftp_server %\]/g,FTP_SERVER);g=g.replace(/\[% url.dns %\]/g,encodeURIComponent(DNS));c+=g;(a=="A")?a="B":a="A"}c+="</table>";c+=add_pagination(f);YAHOO.util.Dom.get("accounts_div").innerHTML=c;if(SERVER_TYPE=="PURE"){for(var b=0;b<d;b++){show_usage_bar("usage_bar_"+b,e[b].diskused,e[b].diskquota)}}};var add_pagination=function(g){for(var e in g){if(g.hasOwnProperty(e)){g[e]=parseInt(g[e])}}if(g.total_pages==1){return""}var c=0;var b=0;var d='<div id="pagination_pages">';for(var e=1;e<=g.total_pages;e++){if(e==g.current_page){d+=' <span class="paginate_current_page">'+e+"</span> "}else{if(e==1||e==g.total_pages){d+=' <span onclick="change_page('+e+')" class="paginate_page">'+e+"</span> "}else{if(e<g.current_page-2){if(c==0){d+="...";c=1}}else{if(e>g.current_page+2){if(b==0){d+="...";b=1}}else{d+=' <span onclick="change_page('+e+')" class="paginate_page">'+e+"</span> "}}}}}d+="</div>";d+='<div id="pagination_links">';if(g.current_page!=1){var a=g.current_page-1;d+='<span onclick="change_page('+a+')" class="paginate_prev">&larr; '+LANG.paginate_prev+"</span> "}if(g.current_page!=g.total_pages){var f=g.current_page+1;d+=' <span onclick="change_page('+f+')" class="paginate_next">'+LANG.paginate_next+" &rarr;</span>"}d+="</div>";return d};var build_special_accounts_table=function(f){var b=[];var a=[];YAHOO.util.Dom.get("list_of_anonymous_account_ids").value="";var e='<table id="special_accounts_table" class="dynamic_table" cellspacing="0" cellpadding="0">';var g="";var c="A";for(var d=0;d<f.length;d++){if(f[d].diskquota==0||f[d].diskquota==LANG.unlimited){f[d].diskquota=0;f[d].humandiskquota="&infin;"}else{f[d].humandiskquota=f[d].diskquota}f[d].diskused=parseInt(f[d].diskused);if(SERVER_TYPE=="PURE"){g='<tr class="dt_info_row row[% zebra %]">';if(f[d].accttype=="main"){g+='<td class="special_col1"><img src="[% main_icon %]" style="cursor: pointer" alt="" id="special_image_[% i %]" /></td>';b.push("special_image_special"+d);a.push("special_main_description")}if(f[d].accttype=="anonymous"){g+='<td class="special_col1"><img src="[% anon_icon %]" style="cursor: pointer" alt="" id="special_image_[% i %]" /></td>';b.push("special_image_special"+d);a.push("special_anon_description");YAHOO.util.Dom.get("list_of_anonymous_account_ids").value+="special"+d+"|"}if(f[d].accttype=="logaccess"){g+='<td class="special_col1"><img src="[% log_icon %]" style="cursor: pointer" alt="" id="special_image_[% i %]" /></td>';b.push("special_image_special"+d);a.push("special_log_description")}g+='<td class="special_col2" style="text-align: left; padding-left: 5px">[% serverlogin %]<input type="hidden" id="login_[% i %]" value="[% login %]" /></td>';g+='<td class="special_col3" style="text-align: left">[% path %]</td>';g+='<td class="special_col4">[% diskused %] / <span id="humandiskquota_[% i %]">[% humandiskquota %]</span> <span class="megabyte_font">MB</span><input type="hidden" id="diskused_[% i %]" value="[% diskused %]" /><input type="hidden" id="diskquota_[% i %]" value="[% diskquota %]" /><br /><div style="height: 3px"></div><div id="usage_bar_[% i %]" class="table_progress_bar"></div></td>';g+='<td class="special_col5">';g+='<table cellspacing="0" cellpadding="0" width="100%"><tr>';if(f[d].accttype=="main"){g+='<td width="50%">'+LANG.not_applicable+"</td>";g+='<td width="50%"><span class="action_link" onclick="toggle_module(\'config_module_[% i %]\')">'+LANG.configure_ftp_client+"</span></td>"}if(f[d].accttype=="anonymous"){g+='<td width="50%"><span class="action_link" onclick="toggle_module(\'changequota_module_[% i %]\')">'+LANG.change_br_quota+"</span></td>";g+='<td width="50%"><span class="action_link" onclick="toggle_module(\'config_module_[% i %]\')">'+LANG.configure_ftp_client+"</span></td>"}if(f[d].accttype=="logaccess"){g+='<td width="50%">'+LANG.not_applicable+"</td>";g+='<td width="50%"><span class="action_link" onclick="toggle_module(\'config_module_[% i %]\')">'+LANG.configure_ftp_client+"</span></td>"}g+="</tr></table>";g+="</td>";g+="</tr>";g+='<tr><td colspan="5">';g+=build_changequota_module(true);g+=build_config_module();g+='<div id="status_bar_[% i %]" class="cjt_status_bar"></div>';g+="</td></tr>"}else{g='<tr class="dt_info_row row[% zebra %]">';if(f[d].accttype=="main"){g+='<td class="pro_special_col1"><img src="[% main_icon %]" style="cursor: pointer" alt="" id="special_image_[% i %]" /></td>';b.push("special_image_special"+d);a.push("special_main_description")}if(f[d].accttype=="anonymous"){g+='<td class="pro_special_col1"><img src="[% anon_icon %]" style="cursor: pointer" alt="" id="special_image_[% i %]" /></td>';b.push("special_image_special"+d);a.push("special_anon_description")}if(f[d].accttype=="logaccess"){g+='<td class="pro_special_col1"><img src="[% log_icon %]" style="cursor: pointer" alt="" id="special_image_[% i %]" /></td>';b.push("special_image_special"+d);a.push("special_log_description")}g+='<td class="pro_special_col2" style="text-align: center">[% serverlogin %]<input type="hidden" id="login_[% i %]" value="[% login %]" /></td>';g+='<td class="pro_special_col3" style="text-align: center">[% path %]</td>';g+='<td class="pro_special_col4" style="text-align: center">';g+='<span class="action_link" onclick="toggle_module(\'config_module_[% i %]\')">'+LANG.configure_ftp_client+"</span>";g+="</td>";g+="</tr>";g+='<tr><td colspan="4">';g+=build_changepassword_module();g+=build_config_module();g+='<div id="status_bar_[% i %]" class="cjt_status_bar"></div>';g+="</td></tr>"}g=g.replace(/\[% i %\]/g,"special"+d);g=g.replace(/\[% zebra %\]/g,c);g=g.replace(/\[% type %\]/g,f[d].accttype);g=g.replace(/\[% login %\]/g,f[d].login);g=g.replace(/\[% serverlogin %\]/g,f[d].serverlogin);g=g.replace(/\[% path %\]/g,format_path(f[d].dir));g=g.replace(/\[% diskused %\]/g,f[d].diskused);g=g.replace(/\[% humandiskquota %\]/g,f[d].humandiskquota);g=g.replace(/\[% diskquota %\]/g,f[d].diskquota);g=g.replace(/\[% url.acct %\]/g,encodeURIComponent(f[d].login));g=g.replace(/\[% url.accttype %\]/g,encodeURIComponent(f[d].accttype));g=g.replace(/\[% main_icon %\]/g,MAIN_ICON);g=g.replace(/\[% anon_icon %\]/g,ANON_ICON);g=g.replace(/\[% log_icon %\]/g,LOG_ICON);g=g.replace(/\[% ftp_port %\]/g,FTP_PORT);g=g.replace(/\[% sftp_port %\]/g,SFTP_PORT);g=g.replace(/\[% ftp_server %\]/g,FTP_SERVER);g=g.replace(/\[% url.dns %\]/g,encodeURIComponent(DNS));e+=g;(c=="A")?c="B":c="A"}e+="</table>";YAHOO.util.Dom.get("special_accounts_div").innerHTML=e;if(b.length>0){for(var d=0;d<a.length;d++){CPANEL.panels.create_help(b[d],a[d])}}if(SERVER_TYPE=="PURE"){for(var d=0;d<f.length;d++){show_usage_bar("usage_bar_special"+d,f[d].diskused,f[d].diskquota)}}};var build_changepassword_module=function(){var a='<div id="changepassword_module_[% i %]" class="dt_module" style="display: none">';a+='<table cellspacing="0" cellpadding="3" width="500px" style="margin: 0px auto">';a+="<tr>";a+='<td width="33%" align="right">'+LANG.Password+":</td>";a+='<td width="33%"><input id="change_password_1_[% i %]" type="password" style="width: 150px" /></td>';a+='<td width="33%"><span id="change_password_1_[% i %]_error"></span></td>';a+="</tr>";a+="<tr>";a+='<td width="33%" align="right">'+LANG.Password_again+":</td>";a+='<td width="33%"><input id="change_password_2_[% i %]" type="password" style="width: 150px" /></td>';a+='<td width="33%"><span id="change_password_2_[% i %]_error"></span></td>';a+="</tr>";a+="<tr>";a+='<td width="33%" align="right">'+LANG.Strength+":</td>";a+='<td width="33%"><div id="password_strength_[% i %]" class="password_strength"></div></td>';a+='<td width="33%"><input type="button" value="'+LANG.Password_Generator+'" id="password_generator_[% i %]" class="input-button" /></td>';a+="</tr>";a+="<tr>";a+='<td colspan="3" align="center">';a+='<div style="height: 8px"></div>';a+='<div id="change_password_input_[% i %]"><span class="action_link" onclick="toggle_module(\'changepassword_module_[% i %]\')">'+CPANEL.lang.cancel+"</span> "+CPANEL.lang.or+' <input type="button" value="'+LANG.Change_Password+'" class="input-button" id="change_password_[% i %]" /></div>';a+='<div id="change_password_status_[% i %]"></div>';a+="</td>";a+="</tr>";a+="</table>";a+="</div>";return a};var build_changequota_module=function(a){var b='<div id="changequota_module_[% i %]" class="dt_module" style="display: none">';b+='<table cellspacing="0" cellpadding="3" style="width: 500px; margin: 0px auto;">';b+="<tr>";b+='<td valign="middle" align="right" width="45%">'+LANG.FTP_Quota+":</td>";b+='<td valign="middle" width="55%">';b+='<input type="radio" name="change_quota_[% i %]" id="change_quota_radio_number_[% i %]" onclick="toggle_quota_input(\'number\', \'[% i %]\', true)" /> <input type="text" size="5" maxlength="5" value="" id="change_quota_number_input_[% i %]" onfocus="toggle_quota_input(\'number\', \'[% i %]\', true)" /> <span class="megabyte_font">MB</span> <span id="change_quota_number_input_[% i %]_error"></span><br />';b+='<label><input type="radio" name="change_quota_[% i %]" id="change_quota_radio_unlimited_[% i %]" onclick="toggle_quota_input(\'unlimited\', \'[% i %]\', true)" /> '+LANG.Unlimited+'</label> <span id="change_quota_radio_unlimited_[% i %]_error"></span>';b+="</td>";b+="</tr>";b+="<tr>";b+='<td colspan="2" align="center">';b+='<div style="height: 8px"></div>';b+='<div id="change_quota_input_[% i %]"><span class="action_link" onclick="toggle_module(\'changequota_module_[% i %]\')">'+CPANEL.lang.cancel+"</span> "+CPANEL.lang.or+' <input type="button" value="'+LANG.Change_Quota+'" id="change_quota_button_[% i %]" class="input-button" /></div>';b+='<div id="change_quota_status_[% i %]"></div>';if(a==true){b+='<div style="height: 10px"></div><em>'+LANG.anon_quotas_share+"</em>"}b+="</td>";b+="</tr>";b+="</table>";b+="</div>";return b};var build_delete_module=function(){var a='<div id="delete_module_[% i %]" class="dt_module" style="display: none; text-align: center">';a+='<table cellspacing="0" cellpadding="0" width="580px" style="margin: 0px auto" border="0">';a+="<tr>";a+='<td width="45%">'+LANG.Delete_account+" [% login %]?</td>";a+='<td width="10%" rowspan="2"><center><div style="width: 1px; height: 45px; border-left: 1px solid #666">&nbsp;</div></center></td>';a+='<td width="45%">'+LANG.Delete_account+" [% login %]<br />"+LANG.delete_all_files_under+"<br />[% special_path %] ?</td>";a+="</tr>";a+="<tr>";a+="<td><br /></td>";a+="<td></td>";a+="</tr>";a+="<tr>";a+='<td><input type="button" value="'+LANG.Delete_Account+'" id="delete_account_[% i %]" onclick="delete_account([% i %])" /><div id="delete_account_status_[% i %]"></div></td>';a+='<td><span class="action_link" id="cancel_delete_[% i %]" onclick="toggle_module(\'delete_module_[% i %]\')">'+CPANEL.lang.cancel+"</span></td>";a+='<td><input type="button" value="'+LANG.Delete_Account_and_Files+'" id="delete_account2_[% i %]" onclick="delete_account([% i %], true)" /><div id="delete_account2_status_[% i %]"></div></td>';a+="</tr>";a+="</table>";a+="</div>";return a};var build_config_module=function(){var a='<div id="config_module_[% i %]" class="dt_module" style="display: none; text-align: center">';a+='<table cellspacing="0" cellpadding="0" width="580px" border="0" style="margin: 0px auto">';a+="<tr>";a+='<td colspan="3" align="left">'+LANG.Manual_Settings+"<hr /></td>";a+="</tr>";a+="<tr>";a+='<td colspan="3" align="left" style="padding-left: 25px">';a+=LANG.FTP_Username+": <strong>[% serverlogin %]</strong><br />";a+=LANG.FTP_Server+": <strong>[% ftp_server %]</strong><br />";a+=LANG.FTP_Server_Port+": <strong>[% ftp_port %]</strong><br />";a+=LANG.SFTP_Server_Port+": <strong>[% sftp_port %]</strong><br />";a+="</td>";a+="</tr>";a+='<tr><td colspan="3"><br /></td></tr>';a+="<tr>";a+='<td colspan="3" align="left">'+LANG.Configuration_Files+"<hr /></td>";a+="</tr>";a+="<tr>";a+='<td width="33%"><img src="../images/filezilla.gif" alt="FileZilla Logo" style="width: 32px; height: 32px" /><br />Filezilla<br /><em style="font-size: 9px">'+LANG.for_Windows+"</em></td>";a+='<td width="33%"><img src="../images/coreftp.gif" alt="CoreFTP Logo" style="width: 32px; height: 13px" /><br />Core FTP<br /><em style="font-size: 9px">'+LANG.for_Windows+"</em></td>";a+='<td width="33%"><img src="../images/cyberduck.png" alt="Cyberduck Logo" style="width: 32px; height: 32px" /><br />Cyberduck<br /><em style="font-size: 9px">'+LANG.for_Mac+"</em></td>";a+="</tr>";a+='<tr><td colspan="3"><br /></td></tr>';a+="<tr>";if(DEDICATED_IP==true){a+='<td width="33%">';a+='<a href="'+CPANEL.security_token+'/backend/filezillasetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]|0">'+LANG.FTP_Configuration_File+"</a><br />";a+='<a href="'+CPANEL.security_token+'/backend/filezillasetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]|1">'+LANG.SFTP_Configuration_File+"</a><br />";a+='<a target="_blank" href="instructions/filezilla.html?acct=[% url.acct %]">'+LANG.Instructions_new_window+"</a>";a+="</td>";a+='<td width="33%">';a+='<a href="'+CPANEL.security_token+'/backend/coreftpsetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]|0">'+LANG.FTP_Configuration_File+"</a><br />";a+='<a href="'+CPANEL.security_token+'/backend/coreftpsetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]|1">'+LANG.SFTP_Configuration_File+"</a><br />";a+='<a target="_blank" href="instructions/coreftp.html?acct=[% url.acct %]">'+LANG.Instructions_new_window+"</a>";a+="</td>";a+='<td width="33%">';a+='<a href="'+CPANEL.security_token+'/backend/cyberducksetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]|0">'+LANG.FTP_Configuration_File+"</a><br />";a+='<a href="'+CPANEL.security_token+'/backend/cyberducksetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]|1">'+LANG.SFTP_Configuration_File+"</a><br />";a+='<a target="_blank" href="instructions/cyberduck.html?acct=[% url.acct %]">'+LANG.Instructions_new_window+"</a>";a+="</td>"}else{a+='<td width="33%">';a+='<a href="'+CPANEL.security_token+'/backend/filezillasetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]@[% url.dns %]|0">'+LANG.FTP_Configuration_File+"</a><br />";a+='<a href="'+CPANEL.security_token+'/backend/filezillasetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]@[% url.dns %]|1">'+LANG.SFTP_Configuration_File+"</a><br />";a+='<a target="_blank" href="instructions/filezilla.html?acct=[% url.acct %]">'+LANG.Instructions_new_window+"</a>";a+="</td>";a+='<td width="33%">';a+='<a href="'+CPANEL.security_token+'/backend/coreftpsetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]@[% url.dns %]|0">'+LANG.FTP_Configuration_File+"</a><br />";a+='<a href="'+CPANEL.security_token+'/backend/coreftpsetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]@[% url.dns %]|1">'+LANG.SFTP_Configuration_File+"</a><br />";a+='<a target="_blank" href="instructions/coreftp.html?acct=[% url.acct %]">'+LANG.Instructions_new_window+"</a>";a+="</td>";a+='<td width="33%">';a+='<a href="'+CPANEL.security_token+'/backend/cyberducksetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]@[% url.dns %]|0">'+LANG.FTP_Configuration_File+"</a><br />";a+='<a href="'+CPANEL.security_token+'/backend/cyberducksetup.cgi?[% url.acct %]@[% url.dns %]|ftp.[% url.dns %]|[% url.acct %]@[% url.dns %]|1">'+LANG.SFTP_Configuration_File+"</a><br />";a+='<a target="_blank" href="instructions/cyberduck.html?acct=[% url.acct %]">'+LANG.Instructions_new_window+"</a>";a+="</td>"}a+="</tr>";a+="<tr>";a+='<td colspan="3"><br /><span class="action_link" onclick="toggle_module(\'config_module_[% i %]\')">'+CPANEL.lang.cancel+"</span></td>";a+="</tr>";a+="</table>";a+="</div>";return a};var toggle_module=function(b){if(OPEN_MODULE!==b&&YAHOO.util.Dom.getStyle(OPEN_MODULE,"display")=="block"){var a=OPEN_MODULE;before_hide_module(a);CPANEL.animate.slide_up(a,function(){after_hide_module(a)})}if(YAHOO.util.Dom.getStyle(b,"display")!="none"){before_hide_module(b);CPANEL.animate.slide_up(b,function(){after_hide_module(b)})}else{before_show_module(b);CPANEL.animate.slide_down(b,function(){after_show_module(b)});OPEN_MODULE=b}};var before_show_module=function(e){var a=e.split("_");var d=a[0];var b=a[2];if(d=="changepassword"){CHANGE_PASS_VALID=CPANEL.password.setup("change_password_1_"+b,"change_password_2_"+b,"password_strength_"+b,REQUIRED_PASSWORD_STRENGTH,"password_generator_"+b);CPANEL.validate.attach_to_form("change_password_"+b,CHANGE_PASS_VALID,function(){change_password(b)})}if(d=="changequota"){CHANGE_QUOTA_VALID.number=new CPANEL.validate.validator(LANG.quota);CHANGE_QUOTA_VALID.number.add("change_quota_number_input_"+b,"positive_integer",LANG.quota_positive_integer,"change_quota_radio_number_"+b);CHANGE_QUOTA_VALID.number.attach();CHANGE_QUOTA_VALID.unlimited=new CPANEL.validate.validator(LANG.quota);CHANGE_QUOTA_VALID.unlimited.add("change_quota_radio_unlimited_"+b,"anything","","change_quota_radio_unlimited_"+b);CHANGE_QUOTA_VALID.unlimited.attach();CPANEL.validate.attach_to_form("change_quota_button_"+b,CHANGE_QUOTA_VALID,function(){change_quota(b)});var c=YAHOO.util.Dom.get("diskquota_"+b).value;if(CPANEL.validate.integer(c)==true&&c!=0){YAHOO.util.Dom.get("change_quota_number_input_"+b).value=c;toggle_quota_input("number",b)}else{YAHOO.util.Dom.get("change_quota_number_input_"+b).value=2000;toggle_quota_input("unlimited",b)}}if(d=="delete"){}if(d=="config"){}};var before_hide_module=function(e){var b=e.split("_");var d=b[0];var c=b[2];if(d=="changepassword"){CHANGE_PASS_VALID[0].clear_messages();CHANGE_PASS_VALID[1].clear_messages();YAHOO.util.Event.purgeElement("changepassword_module_"+c,true)}if(d=="changequota"){CHANGE_QUOTA_VALID.number.clear_messages();CHANGE_QUOTA_VALID.unlimited.clear_messages();YAHOO.util.Event.purgeElement("changequota_module_"+c,true)}if(d=="delete"){var a=YAHOO.util.Dom.get("delete_module_path_popup_uid_"+c).value;if(PATH_POPUPS[a]){PATH_POPUPS[a].hide()}}if(d=="config"){}};var after_show_module=function(d){var a=d.split("_");var c=a[0];var b=a[2];if(c=="changepassword"){YAHOO.util.Dom.get("change_password_1_"+b).focus();CPANEL.util.catch_enter(["change_password_1_"+b,"change_password_2_"+b],"change_password_"+b)}if(c=="changequota"){CPANEL.util.catch_enter("change_quota_number_input_"+b,"change_quota_button_"+b)}if(c=="delete"){}if(c=="config"){}CPANEL.align_panels_event.fire()};var after_hide_module=function(d){var a=d.split("_");var c=a[0];var b=a[2];if(c=="changepassword"){YAHOO.util.Dom.get("change_password_1_"+b).value="";YAHOO.util.Dom.get("change_password_2_"+b).value=""}if(c=="changequota"){}if(c=="delete"){}if(c=="config"){}CPANEL.align_panels_event.fire()};var toggle_quota_input=function(b,a,c){if(b=="number"){YAHOO.util.Dom.get("change_quota_radio_number_"+a).checked=true;YAHOO.util.Dom.get("change_quota_radio_unlimited_"+a).checked=false;YAHOO.util.Dom.setStyle("change_quota_number_input_"+a,"color","black");if(c){YAHOO.util.Dom.get("change_quota_number_input_"+a).focus();CHANGE_QUOTA_VALID.number.verify();CHANGE_QUOTA_VALID.unlimited.clear_messages()}}else{YAHOO.util.Dom.get("change_quota_radio_number_"+a).checked=false;YAHOO.util.Dom.get("change_quota_radio_unlimited_"+a).checked=true;YAHOO.util.Dom.setStyle("change_quota_number_input_"+a,"color","#888888");if(c){CHANGE_QUOTA_VALID.number.clear_messages();CHANGE_QUOTA_VALID.unlimited.verify()}}};var format_path=function(d,e,b){if(d.length>24){var a=YAHOO.util.Dom.generateId();var c;if(e){c=d.slice(0,12)+'<span class="action_link" id="'+a+'" style="text-decoration: underline" onclick="toggle_path_popup(\''+a+"', '"+e+"')\">...</span>"+d.slice(d.length-12);c+='<input type="hidden" id="delete_module_path_popup_uid_'+b+'" value="'+a+'" />'}else{c=d.slice(0,12)+'<span class="action_link" id="'+a+'" style="text-decoration: underline" onclick="toggle_path_popup(\''+a+"')\">...</span>"+d.slice(d.length-12)}c+='<input type="hidden" id="'+a+'_path" value="'+d+'" />';return c}else{return d}};var toggle_path_popup=function(h,g){var e=YAHOO.util.Dom.get(h+"_path").value;if(!PATH_POPUPS[h]){var f=YAHOO.util.Dom.get("get_path_width");f.innerHTML=e;var d=YAHOO.util.Region.getRegion(f);f.innerHTML="";var a=d.width;if(YAHOO.env.ua.webkit>=1){a+=12}if(YAHOO.env.ua.gecko>=1){a+=15}var b={context:[h,"tl","br",["beforeShow","windowResize",CPANEL.align_panels_event]],effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:0.25},visible:false};PATH_POPUPS[h]=new YAHOO.widget.Overlay(h+"_overlay",b);var c='<span class="action_link" onclick="toggle_path_popup(\''+h+'\')">&nbsp;x&nbsp;</span><input type="text" style="width: '+a+'px" value="'+e+'" onclick="this.select()" id="'+h+'_input" />';PATH_POPUPS[h].setBody(c);PATH_POPUPS[h].render(document.body);PATH_POPUPS[h].showEvent.subscribe(function(){YAHOO.util.Dom.get(h+"_input").select()});if(g){PATH_POPUPS[h].beforeShowEvent.subscribe(function(){YAHOO.util.Dom.get(g).disabled=true});PATH_POPUPS[h].hideEvent.subscribe(function(){YAHOO.util.Dom.get(g).disabled=false})}YAHOO.util.Dom.addClass(h+"_overlay","path_popup")}if(PATH_POPUPS[h].cfg.getProperty("visible")==true){PATH_POPUPS[h].hide()}else{PATH_POPUPS[h].show()}};var close_all_path_popups=function(){for(var a in PATH_POPUPS){if(PATH_POPUPS.hasOwnProperty(a)){PATH_POPUPS[a].hide()}}};var clear_add_account_input=function(){YAHOO.util.Dom.get("login").value="";YAHOO.util.Dom.get("password").value="";YAHOO.util.Dom.get("password2").value="";YAHOO.util.Dom.get("homedir").value="";if(SERVER_TYPE=="PURE"){YAHOO.util.Dom.get("quota_value").value="2000";YAHOO.util.Dom.get("quota_unlimited").checked=true;toggle_add_account_quota()}CPANEL.password.show_strength_bar("password_strength",0);for(var a in ADD_VALID){if(ADD_VALID.hasOwnProperty(a)){ADD_VALID[a].clear_messages()}}};var add_ftp_account=function(){var a=YAHOO.util.Dom.get("login").value;var d={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"Ftp",cpanel_jsonapi_func:"addftp",user:a,pass:YAHOO.util.Dom.get("password").value,homedir:YAHOO.util.Dom.get("homedir").value};if(SERVER_TYPE!="PRO"){(YAHOO.util.Dom.get("quota_number").checked==true)?d.quota=YAHOO.util.Dom.get("quota_value").value:d.quota=0}var b=function(){YAHOO.util.Dom.setStyle("ftp_create_submit","display","");YAHOO.util.Dom.get("add_ftp_status").innerHTML=""};var c={success:function(h){try{var f=YAHOO.lang.JSON.parse(h.responseText)}catch(g){CPANEL.widgets.status_bar("add_ftp_status_bar","error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed);b();return}if(f.cpanelresult.data[0].result=="1"){CPANEL.widgets.status_bar("add_ftp_status_bar","success",LANG.Account_Created,a);clear_add_account_input();load_accounts_table()}else{if(f.cpanelresult.data[0].result=="0"){CPANEL.widgets.status_bar("add_ftp_status_bar","error",CPANEL.lang.Error,f.cpanelresult.data[0].reason)}else{CPANEL.widgets.status_bar("add_ftp_status_bar","error",CPANEL.lang.Error,LANG.unknown_error)}}b()},failure:function(e){CPANEL.widgets.status_bar("add_ftp_status_bar","error",CPANEL.lang.ajax_error,CPANEL.lang.ajax_try_again);b()}};YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(d),c,"");YAHOO.util.Dom.setStyle("ftp_create_submit","display","none");YAHOO.util.Dom.get("add_ftp_status").innerHTML=CPANEL.icons.ajax+" "+LANG.creating_account};var change_password=function(d){var c={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"Ftp",cpanel_jsonapi_func:"passwd",user:YAHOO.util.Dom.get("login_"+d).value,pass:YAHOO.util.Dom.get("change_password_1_"+d).value};var a=function(){YAHOO.util.Dom.setStyle("change_password_input_"+d,"display","block");YAHOO.util.Dom.get("change_password_status_"+d).innerHTML=""};var b={success:function(h){try{var f=YAHOO.lang.JSON.parse(h.responseText)}catch(g){CPANEL.widgets.status_bar("status_bar_"+d,"error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed);a();return}if(f.cpanelresult.data[0].result=="1"){CPANEL.widgets.status_bar("status_bar_"+d,"success",LANG.Changed_Password);toggle_module("changepassword_module_"+d)}else{if(f.cpanelresult.data[0].result=="0"){CPANEL.widgets.status_bar("status_bar_"+d,"error",CPANEL.lang.Error,f.cpanelresult.error)}else{CPANEL.widgets.status_bar("status_bar_"+d,"error",CPANEL.lang.Error,LANG.unknown_error)}}a()},failure:function(e){CPANEL.widgets.status_bar("status_bar_"+d,"error",CPANEL.lang.ajax_error,CPANEL.lang.ajax_try_again);a()}};YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(c),b,"");YAHOO.util.Dom.setStyle("change_password_input_"+d,"display","none");YAHOO.util.Dom.get("change_password_status_"+d).innerHTML=CPANEL.icons.ajax+" "+LANG.changing_password};var change_quota=function(g){var b,a,f;if(YAHOO.util.Dom.get("change_quota_radio_number_"+g).checked==true){b=YAHOO.util.Dom.get("change_quota_number_input_"+g).value;a=b;f=b+' <span class="megabyte_font">MB</span>'}else{b=0;a="&infin;";f=LANG.unlimited}var e={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"Ftp",cpanel_jsonapi_func:"setquota",user:YAHOO.util.Dom.get("login_"+g).value,quota:b};var c=function(){YAHOO.util.Dom.setStyle("change_quota_input_"+g,"display","block");YAHOO.util.Dom.get("change_quota_status_"+g).innerHTML=""};var d={success:function(m){try{var k=YAHOO.lang.JSON.parse(m.responseText)}catch(l){CPANEL.widgets.status_bar("status_bar_"+g,"error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed);c();return}if(k.cpanelresult.data[0].result=="1"){CPANEL.widgets.status_bar("status_bar_"+g,"success",LANG.Changed_Quota,f);toggle_module("changequota_module_"+g);if(g.search(/special/)!=-1){var h=YAHOO.util.Dom.get("list_of_anonymous_account_ids").value;h=h.split("|");for(var j=0;j<h.length;j++){if(h[j]!=""){YAHOO.util.Dom.get("humandiskquota_"+h[j]).innerHTML=a;YAHOO.util.Dom.get("diskquota_"+h[j]).value=b;show_usage_bar("usage_bar_"+h[j],YAHOO.util.Dom.get("diskused_"+h[j]).value,b)}}}else{YAHOO.util.Dom.get("humandiskquota_"+g).innerHTML=a;YAHOO.util.Dom.get("diskquota_"+g).value=b;show_usage_bar("usage_bar_"+g,YAHOO.util.Dom.get("diskused_"+g).value,b)}}else{if(k.cpanelresult.data[0].result=="0"){CPANEL.widgets.status_bar("status_bar_"+g,"error",CPANEL.lang.Error,k.cpanelresult.error)}else{CPANEL.widgets.status_bar("status_bar_"+g,"error",CPANEL.lang.Error,LANG.unknown_error)}}c()},failure:function(h){CPANEL.widgets.status_bar("status_bar_"+g,"error",CPANEL.lang.ajax_error,CPANEL.lang.ajax_try_again);c()}};YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(e),d,"");YAHOO.util.Dom.setStyle("change_quota_input_"+g,"display","none");YAHOO.util.Dom.get("change_quota_status_"+g).innerHTML=CPANEL.icons.ajax+" "+LANG.changing_quota};var show_usage_bar=function(d,c,b){var a=100*(c/b);if(b==0){a=0}CPANEL.widgets.progress_bar(d,a,"",{inverse_colors:true})};var delete_account=function(e,a){var d={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"Ftp",cpanel_jsonapi_func:"delftp",user:YAHOO.util.Dom.get("login_"+e).value};if(a){d.destroy="1"}var b=function(){YAHOO.util.Dom.setStyle("cancel_delete_"+e,"display","inline");YAHOO.util.Dom.get("delete_account_"+e).disabled=false;YAHOO.util.Dom.setStyle("delete_account2_"+e,"display","inline");YAHOO.util.Dom.get("delete_account2_status_"+e).innerHTML="";YAHOO.util.Dom.get("delete_account2_"+e).disabled=false;YAHOO.util.Dom.setStyle("delete_account_"+e,"display","inline");YAHOO.util.Dom.get("delete_account_status_"+e).innerHTML=""};var c={success:function(h){try{var f=YAHOO.lang.JSON.parse(h.responseText)}catch(g){CPANEL.widgets.status_bar("status_bar_"+e,"error",CPANEL.lang.json_error,CPANEL.lang.json_parse_failed);b();return}if(f.cpanelresult.error){CPANEL.widgets.status_bar("status_bar_"+e,"error",CPANEL.lang.Error,f.cpanelresult.error)}else{if(f.cpanelresult.data[0].result=="1"){CPANEL.animate.fade_out("delete_module_"+e);CPANEL.animate.fade_out("account_row_"+e,function(){if(FTP_ACCOUNTS_MAXED==true){FTP_ACCOUNTS_MAXED=false;YAHOO.util.Dom.setStyle("new_ftp_account_input_div","display","");YAHOO.util.Dom.setStyle("max_ftp_accounts_alert_box","display","none")}})}else{CPANEL.widgets.status_bar("status_bar_"+e,"error",CPANEL.lang.Error,LANG.unknown_error)}}b()},failure:function(f){CPANEL.widgets.status_bar("status_bar_"+e,"error",CPANEL.lang.ajax_error,CPANEL.lang.ajax_try_again);b()}};YAHOO.util.Connect.asyncRequest("GET",CPANEL.urls.json_api(d),c,"");YAHOO.util.Dom.setStyle("cancel_delete_"+e,"display","none");if(a){YAHOO.util.Dom.get("delete_account_"+e).disabled=true;YAHOO.util.Dom.setStyle("delete_account2_"+e,"display","none");YAHOO.util.Dom.get("delete_account2_status_"+e).innerHTML=CPANEL.icons.ajax+" "+LANG.deleting_account_and_files}else{YAHOO.util.Dom.get("delete_account2_"+e).disabled=true;YAHOO.util.Dom.setStyle("delete_account_"+e,"display","none");YAHOO.util.Dom.get("delete_account_status_"+e).innerHTML=CPANEL.icons.ajax+" "+LANG.deleting_account}};var search_field_focus=function(){search_field=YAHOO.util.Dom.get("search_input");if(search_field.value==LANG.Search_Accounts){search_field.value="";YAHOO.util.Dom.setStyle("search_input","color","black")}};var search_field_blur=function(){var a=YAHOO.util.Dom.get("search_input");if(a.value==""){a.value=LANG.Search_Accounts;YAHOO.util.Dom.setStyle("search_input","color","#888888")}};var search_accounts=function(){if(TABLE_REQUEST_ACTIVE){return}var a=YAHOO.util.Dom.get("search_input").value;if(a==LANG.Search_Accounts){a=""}if(a==LAST_SEARCH_TXT){return}LAST_SEARCH_TXT=a;FTP_API2_CALL.api2_filter=1;FTP_API2_CALL.api2_filter_type="contains";FTP_API2_CALL.api2_filter_column="serverlogin";FTP_API2_CALL.api2_filter_term=a;reset_pagination();load_accounts_table();(a=="")?YAHOO.util.Dom.setStyle("clear_search","display","none"):YAHOO.util.Dom.setStyle("clear_search","display","")};var clear_search=function(){YAHOO.util.Dom.get("search_input").value="";search_accounts();search_field_blur()};var change_items_per_page=function(){if(TABLE_REQUEST_ACTIVE==false){reset_pagination();FTP_API2_CALL.api2_paginate_size=YAHOO.util.Dom.get("items_per_page").value;load_accounts_table()}};var change_page=function(a){if(TABLE_REQUEST_ACTIVE==false){FTP_API2_CALL.api2_paginate_start=((a-1)*FTP_API2_CALL.api2_paginate_size)+1;load_accounts_table()}};var reset_pagination=function(){FTP_API2_CALL.api2_paginate_start=1};var toggle_sort=function(a){if(TABLE_REQUEST_ACTIVE){return true}var b;(SERVER_TYPE=="PURE")?b="pure_":b="pro_";YAHOO.util.Dom.get(b+"sort_direction_serverlogin_img").innerHTML="";YAHOO.util.Dom.get(b+"sort_direction_dir_img").innerHTML="";if(SERVER_TYPE=="PURE"){YAHOO.util.Dom.get(b+"sort_direction_diskused_img").innerHTML="";YAHOO.util.Dom.get(b+"sort_direction_diskquota_img").innerHTML=""}if(a=="serverlogin"){FTP_API2_CALL.api2_sort_column="serverlogin";FTP_API2_CALL.api2_sort_method="alphabet"}if(a=="dir"){FTP_API2_CALL.api2_sort_column="dir";FTP_API2_CALL.api2_sort_method="alphabet"}if(a=="diskused"){FTP_API2_CALL.api2_sort_column="diskused";FTP_API2_CALL.api2_sort_method="numeric"}if(a=="diskquota"){FTP_API2_CALL.api2_sort_column="diskquota";FTP_API2_CALL.api2_sort_method="numeric_zero_as_max"}var d=YAHOO.util.Dom.get(b+"sort_direction_"+a);var c=YAHOO.util.Dom.get(b+"sort_direction_"+a+"_img");if(d.value=="asc"){d.value="desc";c.innerHTML="&darr;";FTP_API2_CALL.api2_sort_reverse="1"}else{d.value="asc";c.innerHTML="&uarr;";FTP_API2_CALL.api2_sort_reverse="0"}reset_pagination();load_accounts_table()};var prep_ui_server_type=function(){if(SERVER_TYPE=="PRO"){YAHOO.util.Dom.setStyle("add_new_quota_row","display","none");YAHOO.util.Dom.setStyle("pure_table_header","display","none");YAHOO.util.Dom.setStyle("pro_table_header","display","");YAHOO.util.Dom.setStyle("pure_special_table_header","display","none");YAHOO.util.Dom.setStyle("pro_special_table_header","display","")}};var init=function(){prep_ui_server_type();FTP_API2_CALL={cpanel_jsonapi_version:2,cpanel_jsonapi_module:"Ftp",cpanel_jsonapi_func:"listftpwithdisk",include_acct_types:"sub",api2_paginate:1,api2_paginate_size:10,api2_paginate_start:1,api2_sort:1,api2_sort_column:"serverlogin",api2_sort_method:"alphabet",api2_sort_reverse:0};CPANEL.util.catch_enter("search_input","search_button");CPANEL.panels.create_help("special_accounts_help","special_accounts_help_text");init_add_validation();load_accounts_table();load_special_accounts_table()};YAHOO.util.Event.onDOMReady(init);